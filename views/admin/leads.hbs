<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Leads</title>

    {{>headerlinks}}

    <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  
  <link href="https://nightly.datatables.net/css/jquery.dataTables.css" rel="stylesheet" type="text/css" />
  <script src="https://nightly.datatables.net/js/jquery.dataTables.js"></script>
  <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>
  <link href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap5.min.css" rel="stylesheet" type="text/css" />
  


    <style>
     thead tr {
            background-color: #5e63ff;
            color: #fff;
        }
        th,td{
              white-space: normal; /* Allows text to wrap */
      word-wrap: break-word; /* Ensures long words break onto the next line */
      overflow-wrap: anywhere;
        }
     
        table.table-bordered.dataTable{
            padding-top: 20px;
            font-size: 14px;
        }

        .dataTables_filter {
        float: right;
      }
      .table-hover > tbody > tr:hover {
        background-color: #dbdada;
      }

      thead tr{
        background-color: #617CEA;
        color: #fff;
      }
      @media only screen and (min-width: 768px) {
        .table {
          table-layout: fixed;
          max-width: 100% !important;
        }
      }
      thead {
        background: #ddd;
      }

      .table td:nth-child(2) {
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .highlight {
        background: #ff9;
      }

      @media only screen and (min-width: 768px) {
               th:nth-child(1), td:nth-child(1) {
     /* First column takes 30% of the table width */
  }

  th:nth-child(2), td:nth-child(2) {
   width: 15%;
  }

  th:nth-child(3), td:nth-child(3) {
    width: 25%;
  }       
  th:nth-child(4), td:nth-child(4) {
    width: 8%;
  }       
  th:nth-child(7), td:nth-child(7) {
    width: 15%;
  }       
  th:nth-child(8), td:nth-child(8) {
    width: 5%;
  }   
      }
      @media only screen and (max-width: 767px) {
        /* Force table to not be like tables anymore */
        table,
        thead,
        tbody,
        th,
        td,
        tr {
          display: block;
          /* Hide table headers (but not display: none;, for accessibility) */
        }
        
        thead tr,
        tfoot tr {
          position: absolute;
          top: -9999px;
          left: -9999px;
        }
        td {
          /* Behave  like a "row" */
          border: none;
          border-bottom: 1px solid #eee;
          position: relative;
          padding-left: 50% !important;
        }
        td:before {
          /* Now like a table header */
          position: absolute;
          /* Top/left values mimic padding */
          top: 6px;
          left: 6px;
          width: 45%;
          padding-right: 10px;
          white-space: nowrap;
        }
        .table td:nth-child(1) {
          background: #ccc;
          height: 100%;
          top: 0;
          left: 0;
          font-weight: bold;
          /*
     Label the data
     */
        }
        td:nth-of-type(1):before {
          content: "#";
        }
        td:nth-of-type(2):before {
          content: "Name";
        }
        td:nth-of-type(3):before {
          content: "Email";
        }
        td:nth-of-type(4):before {
          content: "Phone";
        }
        td:nth-of-type(5):before {
          content: "Best Product";
        }
        td:nth-of-type(6):before {
          content: "Bussiness Type";
        }
        td:nth-of-type(7):before {
          content: "Info";
        }
        td:nth-of-type(8):before {
          content: "Status";
        }
        .dataTables_length {
          display: none;
        }
      }




div# label {
  display: flex;
  font-weight: 500;
  align-items: center;
  padding: 6px 0px;
}
div#DataTables_Table_0_length{
    display: inline-block;
}
div#DataTables_Table_0_length label select{
  margin: 0px 5px;
  outline: none;
  box-shadow: none;
}
div#DataTables_Table_0_filter label{
  font-weight: 500;
}
div#DataTables_Table_0_filter label input{
  padding: 8px;
  border: 2px solid #ccc;
  border-radius: 8px;
DataTables_Table_0_length}

div#DataTables_Table_0_info{
  font-weight: 500;
  color: #919090;
}

        #sidebar ul li.leads a {
            color: #5e63ff;

            svg {
                fill: #5e63ff;
            }
    
    
        }
a.paginate_button {
    padding: 8px;
    margin: 4px;
    color: #5e63ff;
    text-decoration: none;
    cursor: pointer;
}


        .status-icon i{
        font-size: 24px;
        color:#5e63ff;
        }
a#mytable_next,a#mytable_previous{
background-color: #5e63ff;
    color: #fff;
    border-radius: 50%;
    padding: 16px;
}

        a#DataTables_Table_0_previous,a#DataTables_Table_0_next {
    background-color: #5e63ff;
    color: #fff;
    border-radius: 50%;
    padding: 16px;
}
   a.paginate_button.current {
    color: grey;
}  

.download-btn button{
    background-color:#5e63ff;
    color:#fff;
    border:none;
    padding:12px 20px;
    border-radius:6px;
}
    </style>

</head>

<body>
    {{>adminsidenav}}
    <main>
        <div class="container wrapper my-4">
            <h3 class="my-3">Leads</h3>
            <table class="table table-bordered table-hover" id="mytable" cellspacing="0" width="100%">
                <thead class="">
                    <tr style="background-color:#5e63ff !important" >
                        <th style="width: 12px;" class="col-md">#</th>
                        <th class="col-md-2">Name</th>
                        <th class="col-md-2">Email</th>
                        <th class="col-md-2">Phone</th>
                        <th class="col-md-1">Best Product</th>
                        <th class="col-md-1">Business Type</th>
                        <th class="col-md-1">Info</th>
                        <th class="col-md-1">Date</th>
                        <th class="col-md-1">Status</th>
                     
                    </tr>
                </thead>
                <tfoot>
                    <tr>
                        <th>#</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Best Product</th>
                        <th>Business Type</th>
                        <th>Info</th>
                        <th>Date</th>
                        <th>Status</th>
                    </tr>
                </tfoot>
                <tbody>
                    {{#each lead}}
                    <tr>

                        <td>{{inc @index}}</td>
                        <td>{{bname}}</td>
                        <td>{{b_email}}</td>
                        <td>{{phone}}</td>
                        <td>
                            {{productBS}}
                        </td>
                        <td class="">
                            {{b_type}}
                        </td>
                          <td class="">
                           {{info}}
                        </td>
                          <td class="">
                           {{formatDate date}}
                        </td>
                          
                        <td class="text-center">
                            <a class="status-icon" href="" type="button"><i class="fa-solid fa-circle-dot"></i></a>
                        </td>
                    </tr>





                    {{/each}}


                </tbody>
            </table>

        </div>
            <div class="download-btn">
                <button onclick="downloadExcel()">Download as Excel</button>
            </div>


    </main>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<!-- Datatables -->
<script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
<!-- Bootstrap -->
<script
src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
crossorigin="anonymous"
></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script>
    $(document).ready(function () {
        $(".table").DataTable({
          // Disable sorting on the last column
          columnDefs: [{ orderable: false, targets: 5 }],
          language: {
            // Customize pagination prev and next buttons: use arrows instead of words
            paginate: {
              previous: '<span class="fa fa-chevron-left"></span>',
              next: '<span class="fa fa-chevron-right"></span>'
            },
            // Customize the number of elements to be displayed
            lengthMenu:
              'Display <select class="form-control input-sm">' +
              '<option value="10">10</option>' +
              '<option value="20">20</option>' +
              '<option value="30">30</option>' +
              '<option value="40">40</option>' +
              '<option value="50">50</option>' +
              '<option value="-1">All</option>' +
              "</select> results"
          }
        });
      });

function downloadExcel(){
  var table = document.getElementById("mytable");

  var workbook=XLSX.utils.table_to_book(table,{sheet:"Leads"});

  XLSX.writeFile(workbook,"leads.xlsx");
}
</script>
</body>

</html>